
<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Killshot</title>
      <!-- Favicon -->
      <link href="img/favicon.ico" rel="icon" type="image/x-icon" />

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href ="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/css/bootstrap-select.css" rel="stylesheet">

    <!---CUSTOM CSS-->
    <link href ="src/styles/killshot.css" rel="stylesheet">

    
    <!--Custom js scripts-->
    <script src="src/js/generator.js" type="text/javascript"></script>
  </head>

  <body onload="showSavedSentences()">
      <nav class="navbar navbar-light bg-dark">
          <span class="navbar-text">
             
          </span>
        </nav>


    <!-- Page Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h1 class ="mt-4"> Killshot Generator!</h1>
          <form>
          <h5 class="mt-5">Select Weapon</h5>
          <div class="row-fluid">
            <select class="selectpicker" id = "weapon" data-show-subtext="true" data-live-search="true">

              <option data-subtext="">Choose a Weapon!</option>
               <!-- Simple Melee Weapons -->
              <option data-subtext="Bludgeoning">Club</option>
              <option data-subtext="Piercing">Dagger</option>
              <option data-subtext="Bludgeoning">Great Club</option>
              <option data-subtext="Slashing">Handaxe</option>
              <option data-subtext="Piercing">Javelin</option>
              <option data-subtext="Bludgeoning">Light Hammer</option>
              <option data-subtext="Bludgeoning">Mace</option>
              <option data-subtext="Bludgeoning">Quaterstaff</option>
              <option data-subtext="Slashing">Sickle</option>
              <option data-subtext="Piercing">Spear</option>
              
                <!-- Martial Melee Weapons -->
              <option data-subtext="Slashing">Battleaxe</option>



            </select>
          </div>
          <h5 class="mt-4">Select Enemy</h5>
          <div class="row-fluid">
            <select class="selectpicker" id ="enemy" data-show-subtext="true" data-live-search="true">
              <option data-subtext="">Choose an Enemy!</option>
              <option data-subtext="BIG BAD MONSTER">Austin</option>
               <!-- Abberation -->
               <option data-subtext="Abberation">Aboleth</option>
               <option data-subtext="Abberation">Chuul</option>
               <option data-subtext="Abberation">Cloaker</option>
               <option data-subtext="Abberation">Gibbering Mouther</option>
               <option data-subtext="Abberation">Otyugh</option>
               <!-- Beast -->
              

              
              
              
              <!-- Undead Monsters -->
              <option data-subtext="Undead">Ghoul</option>
              <option data-subtext="Undead">Lich</option>
              <option data-subtext="Undead">Minotaur Skeleton</option>
              <option data-subtext="Undead">Mummy</option>
              <option data-subtext="Undead">Mummy Lord</option>
              <option data-subtext="Undead">Ogre Zombie</option>
              <option data-subtext="Undead">Shadow</option>
              <option data-subtext="Undead">Skeleton</option>
              <option data-subtext="Undead">Specter</option>
              <option data-subtext="Undead">Vampire Spawn</option>
              <option data-subtext="Undead">Warhorse Skeleton </option>
              <option data-subtext="Undead">Will-o'-Wisp </option>
              <option data-subtext="Undead">Wraith</option>
              <option data-subtext="Undead">Zombie</option>
              <option data-subtext="Undead">Vampire</option>
               <!--  -->

               
 
 
 
 
 
 
 
 
 

 

 





            </select>
          </div>


          <div class = "row-fluid mt-4">
              <button type="button" id ="killButton" class="btn btn-danger" onclick="generateSentence()" disabled>Kill em!</button>
            </div>
        </form>
        <br>
          <div id="test"></div>          
      </br>
      <button type="button" id ="saveButton" class="btn btn-primary" onclick="saveSentence()" disabled>Save Sentence</button>
    </br>
  </br>
        <h4>Saved Sentences</h4>
          <ul class="list-unstyled" id ="renderList" > 
            
          </ul>
          <button type="button" id ="clearButton" class="btn btn-alert" onclick="clearSaved()" >Clear Saved</button>
        </div>
        
      </div>

    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.2/js/bootstrap-select.js"></script>


   <script>
   var weapon = "";
   var enemy = "";
   var enemyType;
   var weaponType;
   var savedSentences = [];

   $('#weapon').change(function () {
     weapon = $(this).find("option:selected").text();
     weaponType = $(this).find("option:selected").data('subtext');
     emptyCheck();
});

  $('#enemy').change(function () {
    enemy = $(this).find("option:selected").text();
    emptyCheck();
   });
   
    function generateSentence() {
    document.getElementById("test").innerHTML = sentence();
    saveButtonDisable();
}

//Save current sentence to local storage
function saveSentence(){
  var sentence = document.getElementById("test").innerHTML;
  savedSentences.push(sentence);
  localStorage['savedSentences'] = JSON.stringify(savedSentences);
  showSavedSentences();
}



//Show list of saved sentences
  function showSavedSentences(){
    var sentences = JSON.parse(localStorage['savedSentences']);
    var str = '';

    sentences.forEach(function(sentence) {
      console.log(sentence);
      if (sentence) {
      str += '<li>'+ sentence + '</li>';
    }
    });
    document.getElementById("renderList").innerHTML = str;
  }

  function saveButtonDisable(){
    console.log(document.getElementById("test").innerHTML);
    
    if  (document.getElementById("test").innerHTML != '') {
      $('#saveButton').prop("disabled", false);
    }
  }

  function clearSaved(){
    localStorage.clear();
    savedSentences = [];
    document.getElementById("renderList").innerHTML = '';
  }



    </script>


  </body>

</html>
